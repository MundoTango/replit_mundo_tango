<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#7c3aed">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Life CEO">
    <link rel="apple-touch-icon" href="/life-ceo-icon-192.png">
    
    <script>
      const domain = window.location.hostname.includes('replit.dev')
        ? 'mundo-tango.replit.dev'
        : 'mundotango.life';
      const script = document.createElement('script');
      script.setAttribute('defer', '');
      script.setAttribute('data-domain', domain);
      script.src = 'https://plausible.io/js/script.file-downloads.hash.outbound-links.pageview-props.revenue.tagged-events.js';
      document.head.appendChild(script);

      window.plausible = window.plausible || function () {
        (window.plausible.q = window.plausible.q || []).push(arguments)
      }
    </script>
  </head>
  <body>
    <div id="root"></div>
    
    <!-- Fix modal overlay issue before React loads -->
    <script>
      // Remove any blocking modal overlays
      window.addEventListener('DOMContentLoaded', function() {
        console.error('DOM Content Loaded - Fixing modal overlays');
        
        // Remove modal overlays
        const modals = document.querySelectorAll('[data-modal-priority]');
        modals.forEach(modal => {
          console.log('Removing modal:', modal);
          modal.remove();
        });
        
        // Fix body styles
        document.body.style.overflow = 'auto';
        document.body.style.position = 'static';
        
        // Create a visible test element to confirm script is running
        const testDiv = document.createElement('div');
        testDiv.style.position = 'fixed';
        testDiv.style.top = '0';
        testDiv.style.left = '0';
        testDiv.style.right = '0';
        testDiv.style.backgroundColor = 'green';
        testDiv.style.color = 'white';
        testDiv.style.padding = '10px';
        testDiv.style.zIndex = '999999';
        testDiv.style.textAlign = 'center';
        testDiv.innerHTML = 'Modal Fix Script Running - React Loading...';
        document.body.appendChild(testDiv);
        
        // Remove test div after 3 seconds
        setTimeout(() => testDiv.remove(), 3000);
      });
      
      // Also run periodically to catch any new modals
      setInterval(function() {
        const modals = document.querySelectorAll('[data-modal-priority]');
        if (modals.length > 0) {
          console.log('Found new modals, removing...');
          modals.forEach(modal => modal.remove());
          document.body.style.overflow = 'auto';
        }
      }, 1000);
    </script>
    
    <!-- Debug: Create visible output to test JavaScript execution -->
    <script>
      // Create debug output div
      const debugDiv = document.createElement('div');
      debugDiv.id = 'debug-output';
      debugDiv.style.position = 'fixed';
      debugDiv.style.bottom = '0';
      debugDiv.style.left = '0';
      debugDiv.style.right = '0';
      debugDiv.style.backgroundColor = 'black';
      debugDiv.style.color = 'lime';
      debugDiv.style.padding = '20px';
      debugDiv.style.fontFamily = 'monospace';
      debugDiv.style.fontSize = '14px';
      debugDiv.style.zIndex = '999999';
      debugDiv.style.maxHeight = '200px';
      debugDiv.style.overflowY = 'auto';
      debugDiv.innerHTML = '<h3>Debug Output:</h3>';
      document.body.appendChild(debugDiv);
      
      function addDebug(msg) {
        const p = document.createElement('p');
        p.textContent = new Date().toTimeString().split(' ')[0] + ' - ' + msg;
        debugDiv.appendChild(p);
        console.log(msg);
      }
      
      addDebug('Inline script executing!');
      
      // Try loading main.tsx directly
      addDebug('Attempting to load main.tsx...');
    </script>
    
    <script type="module">
      const debugDiv = document.getElementById('debug-output');
      function addDebug(msg) {
        const p = document.createElement('p');
        p.textContent = new Date().toTimeString().split(' ')[0] + ' - ' + msg;
        debugDiv.appendChild(p);
        console.log(msg);
      }
      
      addDebug('Module script executing!');
      
      try {
        addDebug('Importing main.tsx...');
        const module = await import('/src/main.tsx');
        addDebug('main.tsx imported successfully!');
      } catch (err) {
        addDebug('ERROR loading main.tsx: ' + err.message);
        
        // Try a simpler test
        try {
          addDebug('Testing simple module import...');
          const testModule = await import('data:text/javascript,export default "test"');
          addDebug('Simple module test passed!');
        } catch (err2) {
          addDebug('Simple module test failed: ' + err2.message);
        }
      }
    </script>
    
    <!-- This is a replit script which adds a banner on the top of the page when opened in development mode outside the replit environment -->
    <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script>
  </body>
</html>